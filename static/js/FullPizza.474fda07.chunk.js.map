{"version":3,"file":"static/js/FullPizza.474fda07.chunk.js","mappings":"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","sources":["pages/FullPizza.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectCartItemById } from \"../redux/cart/selectors\";\r\nimport { CartItem } from \"../redux/cart/types\";\r\nimport { addItem } from \"../redux/cart/slice\";\r\n\r\ninterface Pizza {\r\n\tid: string;\r\n\timageUrl: string[];\r\n\ttitle: string;\r\n\ttypes: number[][];\r\n\tprice: number[];\r\n\trating: number;\r\n}\r\n\r\nconst FullPizza: React.FC = () => {\r\n\tconst [pizza, setPizza] = React.useState<Pizza | null>(null);\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\tconst id = window.location.href.split(\"/\")[5];\r\n\r\n\tconst cartItem = useSelector(selectCartItemById(id));\r\n\r\n\tconst [activeType, setActiveType] = React.useState(0);\r\n\tconst [activeSize, setActiveSize] = React.useState(0);\r\n\r\n\tconst addedCount = cartItem ? cartItem.countById : 0;\r\n\r\n\tconst onClickAdd = () => {\r\n\t\tconst item: CartItem = {\r\n\t\t\tid: pizza!.id,\r\n\t\t\ttitle: pizza!.title,\r\n\t\t\tprice: pizza!.price[activeSize],\r\n\t\t\timageUrl: pizza!.imageUrl,\r\n\t\t\ttype: activeType,\r\n\t\t\tsize: activeSize,\r\n\t\t\tweight: pizza!.types[activeType][activeSize],\r\n\t\t\tcount: 0,\r\n\t\t\tcountById: 0,\r\n\t\t};\r\n\t\tdispatch(addItem(item));\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchPizza() {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.get<Pizza>(\r\n\t\t\t\t\t\"https://62be8fcfbe8ba3a10d564082.mockapi.io/items/\" + id,\r\n\t\t\t\t);\r\n\t\t\t\tsetPizza(data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert(\"Ошибка при получении пиццы!\");\r\n\t\t\t\tnavigate(\"/\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchPizza();\r\n\t}, []);\r\n\r\n\tif (!pizza) {\r\n\t\treturn <>Загрузка...</>;\r\n\t}\r\n\r\n\tconsole.log();\r\n\r\n\treturn (\r\n\t\t<div className=\"container container--fullPizza\">\r\n\t\t\t<div className=\"pizza-block\">\r\n\t\t\t\t<div className=\"pizza-block_left\">\r\n\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t<button className=\"button button--outline button--add\" onClick={() => navigate(-1)}>\r\n\t\t\t\t\t\t\t<span>Назад</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\tprocess.env.PUBLIC_URL + pizza.imageUrl[activeType].replace(\"pizzas\", \"pizzas/full\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclassName=\"pizza-block__image\"\r\n\t\t\t\t\t\talt=\"Pizza\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"pizza-block_right\">\r\n\t\t\t\t\t<div className=\"pizza-block__info\">\r\n\t\t\t\t\t\t<h1 className=\"pizza-block__title\">{pizza.title}</h1>\r\n\t\t\t\t\t\t<h2>Пищевая ценность на 100 г</h2>\r\n\t\t\t\t\t\t<div className=\"nutritional\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<div className=\"pdp-row\">\r\n\t\t\t\t\t\t\t\t\t<span>Энерг. ценность</span>\r\n\t\t\t\t\t\t\t\t\t<span>241 ккал</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"pdp-row\">\r\n\t\t\t\t\t\t\t\t\t<span>Белки</span>\r\n\t\t\t\t\t\t\t\t\t<span>10.4 г</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"pdp-row\">\r\n\t\t\t\t\t\t\t\t\t<span>Жиры</span>\r\n\t\t\t\t\t\t\t\t\t<span>12.8 г</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"pdp-row\">\r\n\t\t\t\t\t\t\t\t\t<span>Углеводы</span>\r\n\t\t\t\t\t\t\t\t\t<span>21.2 г</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"pizza-block__selector\">\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{pizza.types.map((type, i) => (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${type}${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setActiveType(i)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={activeType === i ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t{i === 0 ? \"стандарт\" : \"тонкое\"}\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{pizza.types[activeType][0] && (\r\n\t\t\t\t\t\t\t\t\t<li onClick={() => setActiveSize(0)} className={activeSize === 0 ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t26 cм\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{pizza.types[activeType][1] && (\r\n\t\t\t\t\t\t\t\t\t<li onClick={() => setActiveSize(1)} className={activeSize === 1 ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t30 см\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{pizza.types[activeType][2] && (\r\n\t\t\t\t\t\t\t\t\t<li onClick={() => setActiveSize(2)} className={activeSize === 2 ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t\t\t\t40 см\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"pizza-block__bottom\">\r\n\t\t\t\t\t\t\t<div className=\"pizza-block__price\">{pizza.price[activeSize]} ₽</div>\r\n\t\t\t\t\t\t\t<div className=\"pizza-block__weight\">{pizza.types[activeType][activeSize]} г</div>\r\n\t\t\t\t\t\t\t<button onClick={onClickAdd} className=\"button button--outline button--add\">\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\twidth=\"12\"\r\n\t\t\t\t\t\t\t\t\theight=\"12\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 12 12\"\r\n\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"white\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t<span>Добавить</span>\r\n\t\t\t\t\t\t\t\t{addedCount > 0 && <i>{addedCount}</i>}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"pizza-block__content\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tОтличительной чертой пиццы «Пепперони» является ее остро-жгучий вкус. В этой пицце\r\n\t\t\t\t\t\t\tглавную роль играет колбаса «Пепперони», нарезанная небольшими кусочками. Жирные\r\n\t\t\t\t\t\t\tострые кусочки салями великолепно сочетаются с нежностью Моцареллы.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FullPizza;\r\n"],"names":["React","pizza","setPizza","dispatch","useDispatch","navigate","useNavigate","id","window","location","href","split","cartItem","useSelector","selectCartItemById","activeType","setActiveType","activeSize","setActiveSize","addedCount","countById","axios","data","alert","fetchPizza","console","log","className","to","onClick","src","process","imageUrl","replace","alt","title","types","map","type","i","price","item","size","weight","count","addItem","width","height","viewBox","fill","xmlns","d"],"sourceRoot":""}